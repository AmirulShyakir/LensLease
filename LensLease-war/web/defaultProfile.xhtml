<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:outputStylesheet name="primeflex/primeflex.css" />
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title><ui:insert name="title">Title</ui:insert></title>
    </h:head> 
    <h:body>
        <div class="header grid">
            <div class="col-3">
                <p:graphicImage url="/logo.png" style="height: 45px; margin: 15px 0px 5px 10px;"  />
            </div>
            <div class="nav-big col-9">
                <h:form>
                    <p:growl id="messages"/>
                    <p:button value="Home" icon="pi pi-fw pi-home" href="landingPage.xhtml" style="background: #0E0E0E; color: white; padding: 5px; border: #0E0E0E; border-radius: 0; margin-right: 10px" />
                    <p:button value="Forum" icon="pi pi-fw pi-comments" href="landingPage.xhtml" style="background: #0E0E0E; color: white; padding: 5px; border: #0E0E0E; border-radius: 0; margin-right: 10px" />
                    <p:button value="Account" icon="pi pi-fw pi-user" href="myServices.xhtml" style="background: #0E0E0E; color: white; padding: 5px; border: #0E0E0E; border-radius: 0; margin-right: 10px" />
                    <p:commandButton value="Logout" action="#{authenticationManagedBean.logout}" icon="pi pi-fw pi-sign-out" style="background: #568DF5; color: white; padding-left: 5px; border: #0E0E0E; margin-right: 10px"/>
                </h:form>
            </div>
            <div class="nav-small col-9">
                <h:form>
                    <p:growl id="messages"/>
                    <p:menuButton icon="pi pi-bars" styleClass="ui-button-flat" style="padding-right:10px;">
                        <p:menuitem value="Home" action="landingPage.xhtml" icon="pi pi-home" />
                        <p:menuitem value="Forum" action="landingPage.xhtml" icon="pi pi-comments" />
                        <p:menuitem value="Account" action="myServices.xhtml" icon="pi pi-user" />
                        <p:divider />
                        <p:menuitem value="Log out" action="#{authenticationManagedBean.logout}" icon="pi pi-sign-out" />
                    </p:menuButton>
                </h:form>
            </div>
        </div>
        <div class="contentbody grid" >
            <div class="col-12 lg:col-2 min-w-max" >
                <h:form>
                    <div style="padding: 20px">
                        <div class="flex flex-column align-items-center">
                            <div>
                                <p:avatar class="mx-4" styleClass="mr-2" size="xlarge" shape="circle" style="min-width: 100px; min-height: 100px;">
                                    <p:graphicImage value="#{serviceManagedBean.user.photoUrl}"/>
                                </p:avatar>
                            </div>
                            <div class="align-items-center">
                                <h4 style="margin-bottom: 0px; margin-top: 10px"><h:outputText value="#{serviceManagedBean.user.name}"/></h4>
                                <p class="subtitle" style="margin-top: 0px">@<h:outputText value="#{serviceManagedBean.user.username}"/></p>
                            </div>
                            <div class="grid align-items-center pl-2">
                                <p:rating readonly="true" value="#{serviceManagedBean.user.getStarRating()}"/>
                                <p><h:outputText value="#{serviceManagedBean.user.getFormattedRating()}" rendered="#{serviceManagedBean.user.getFormattedRating().length() == 3}"></h:outputText></p>
                            </div>
                            <p><h:outputText value="#{serviceManagedBean.user.getFormattedRating()}" rendered="#{serviceManagedBean.user.getFormattedRating().length() != 3}"></h:outputText></p>
                            <p:divider style="margin-top: -10px"/>
                        </div>
                        <div style="padding-left: 10px">
                            <a style="text-decoration: none; color: inherit" href="myServices.xhtml"><h5><i class="pi pi-briefcase" style="padding-right: 10px" />My Services</h5></a>
                            <a style="text-decoration: none; color: inherit" href="myBookings.xhtml"><h5><i class="pi pi-calendar" style="padding-right: 10px" />My Bookings</h5></a>
                            <a style="text-decoration: none; color: inherit" href="myPortfolio.xhtml"><h5><i class="pi pi-id-card" style="padding-right: 10px" />Portfolio</h5></a>
                            <a style="text-decoration: none; color: inherit" href="reviews.xhtml"><h5><i class="pi pi-comment" style="padding-right: 10px" />Reviews</h5></a>
                            <a style="text-decoration: none; color: inherit" href="editAccount.xhtml"><h5><i class="pi pi-user-edit" style="padding-right: 10px" />Edit Account</h5></a>
                        </div>
                    </div>
                </h:form>
            </div>

            <div class="col-12 lg:col-10" style="background: #ffffff; border-radius: 9px; padding: 49px 30px">
                <ui:insert name="content">Content</ui:insert>  
            </div>
        </div>
    </h:body>   
</html>